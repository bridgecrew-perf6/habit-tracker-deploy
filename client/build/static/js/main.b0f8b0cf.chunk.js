(this["webpackJsonphabit-tracker"]=this["webpackJsonphabit-tracker"]||[]).push([[0],{113:function(e){e.exports=JSON.parse('{"fireBaseEndpoint":"https://habit-tracker-cb7ea-default-rtdb.europe-west1.firebasedatabase.app/","mongoEndpoint":"https://habit-tracker-deploy.vercel.app/"}')},281:function(e,t,n){},406:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(45),o=n.n(c),i=n(20),s=n(26),u=(n(281),n(282),n(105)),d=n(457),l=n(471),p=n(11),b=n(478),h=n(195),j=n.n(h),m=n(49),f=n(446),x=n(1),O=function(e){var t=e.onOpen,n=Object(m.a)(),a=Object(f.a)(n.breakpoints.up("sm"))?"large":"medium";return Object(x.jsx)(l.a,{sx:{position:"fixed",bottom:"1rem",right:"1rem"},children:Object(x.jsx)(b.a,{color:"primary",size:a,"aria-label":"add",onClick:t,children:Object(x.jsx)(j.a,{sx:{fontSize:"2rem"}})})})},g=n(122),v=function(e){var t=e.title,n=e.isCompleted;return Object(x.jsx)(g.a,{variant:"h6",sx:{fontWeight:"bold",color:n?"#555":"#fff",fontSize:{xs:"1.1rem",sm:"1.2rem"}},children:t})},y=n(23),w=n.n(y),k=n(485),C=n(243),S=n.n(C),I=n(475),q=n(253),R=n(479),F=n(454),T=n(244),D=n.n(T),L=n(114),z=n.n(L),A=n(459),B=n(241),M=n.n(B),Y=n(242),_=n.n(Y),P=n(460),E=n(468),U=n(451),W=n(63),V=n.n(W),H=n(453),J=n(80),N=n(462),G=n(465),Z=n(42),K=n(463),Q=n(482),X=n(461),$=n(458),ee=function(e){var t=e.color,n=e.size,a=e.onClick,r=e.margin;return Object(x.jsx)(l.a,{component:$.a,sx:{backgroundColor:t,width:n,height:n,borderRadius:"50%",boxShadow:2,m:r,cursor:a?"pointer":"default"},onClick:a})};ee.defaultProps={color:"#fff",margin:0};var te=ee,ne=["#ffffff","#3ea9ec","#fd0d69","#db00cc","#00f088","#6800ba","#fcc800","#007b11"],ae={position:"absolute",top:"0.3rem",right:"0.3rem",p:1},re={position:"absolute",width:{xs:"250px",md:"300px"},height:"max-content",top:{xs:0,md:"30vh"},left:0,right:0,bottom:{xs:0,md:"auto"},bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:2,outline:0,borderRadius:3,m:"auto"},ce=function(e){var t=e.onClose,n=e.open,a=e.onChange;return Object(x.jsx)(P.a,{open:n,onClose:t,closeAfterTransition:!0,BackdropComponent:E.a,BackdropProps:{timeout:200},children:Object(x.jsx)(U.a,{in:n,children:Object(x.jsxs)(l.a,{sx:re,children:[Object(x.jsx)(I.a,{sx:ae,onClick:t,color:"primary",children:Object(x.jsx)(V.a,{sx:{fontSize:"1.7rem"}})}),Object(x.jsx)(g.a,{variant:"h6",gutterBottom:!0,children:"Choose Color"}),Object(x.jsx)(H.a,{}),Object(x.jsx)(l.a,{sx:{mt:1,display:"flex",flexWrap:"wrap",justifyContent:"center"},children:ne.map((function(e,n){return Object(x.jsx)(te,{color:e,onClick:function(){a(e),t()},size:{xs:"40px",md:"45px"},margin:{xs:.8,md:1}},"color-".concat(n))}))})]})})})},oe=function(e){var t=e.color,n=e.onChange,a=r.a.useState(!1),c=Object(p.a)(a,2),o=c[0],i=c[1],s=function(){return i(!0)};return Object(x.jsxs)(l.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:2,mb:1},children:[Object(x.jsx)(G.a,{onClick:s,variant:"outlined",sx:{width:"70%",p:1.5,color:"white",borderColor:"gray"},children:"Choose color..."}),Object(x.jsx)(l.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"25%"},children:Object(x.jsx)(te,{color:t,size:"40px",onClick:function(){s()}})}),Object(x.jsx)(ce,{onClose:function(){return i(!1)},open:o,onChange:n})]})},ie=n(202),se=n.n(ie),ue=n(139),de=n.n(ue),le=n(203),pe=n.n(le),be=n(204),he=n.n(be),je=n(205),me=n.n(je),fe=n(206),xe=n.n(fe),Oe=n(207),ge=n.n(Oe),ve=n(208),ye=n.n(ve),we=n(140),ke=n.n(we),Ce=n(209),Se=n.n(Ce),Ie=n(210),qe=n.n(Ie),Re=n(211),Fe=n.n(Re),Te=n(212),De=n.n(Te),Le=n(213),ze=n.n(Le),Ae=n(214),Be=n.n(Ae),Me=n(215),Ye=n.n(Me),_e=n(216),Pe=n.n(_e),Ee=n(217),Ue=n.n(Ee),We=n(218),Ve=n.n(We),He=n(219),Je=n.n(He),Ne=n(220),Ge=n.n(Ne),Ze=n(221),Ke=n.n(Ze),Qe=n(222),Xe=n.n(Qe),$e=n(223),et=n.n($e),tt=n(224),nt=n.n(tt),at=n(225),rt=n.n(at),ct=n(226),ot=n.n(ct),it=n(227),st=n.n(it),ut=n(228),dt=n.n(ut),lt=n(229),pt=n.n(lt),bt=n(230),ht=n.n(bt),jt=n(231),mt=n.n(jt),ft=n(232),xt=n.n(ft),Ot=n(233),gt=n.n(Ot),vt=n(234),yt=n.n(vt),wt=n(235),kt=n.n(wt),Ct=n(236),St=n.n(Ct),It=n(237),qt=n.n(It),Rt=n(238),Ft=n.n(Rt),Tt=n(239),Dt=n.n(Tt),Lt=[{name:"meditation",component:se.a},{name:"love",component:de.a},{name:"running",component:pe.a},{name:"fitness",component:he.a},{name:"reading",component:me.a},{name:"coding",component:xe.a},{name:"water",component:ge.a},{name:"health",component:ye.a},{name:"gratitude",component:ke.a},{name:"bed",component:Se.a},{name:"cleaning",component:qe.a},{name:"moto",component:Fe.a},{name:"music",component:De.a},{name:"tennis",component:ze.a},{name:"idea",component:Be.a},{name:"bath",component:Ye.a},{name:"coffee",component:Pe.a},{name:"eye",component:Ue.a},{name:"alco",component:Ve.a},{name:"laptop",component:Je.a},{name:"finance",component:Ge.a},{name:"dollar",component:Ke.a},{name:"learn",component:Xe.a},{name:"walk",component:et.a},{name:"sun",component:nt.a},{name:"pet",component:rt.a},{name:"think",component:ot.a},{name:"pool",component:st.a},{name:"diary",component:dt.a},{name:"sleep",component:pt.a},{name:"plan",component:ht.a},{name:"nophone",component:mt.a},{name:"talk",component:xt.a},{name:"language",component:gt.a},{name:"new",component:yt.a},{name:"social",component:kt.a},{name:"write",component:St.a},{name:"sugar",component:qt.a},{name:"plant",component:Ft.a},{name:"cardio",component:Dt.a}],zt=n(24),At=function(e){return function(t){return Object(x.jsx)(e,Object(zt.a)({},t))}},Bt={position:"absolute",top:"0.3rem",right:"0.3rem",p:1},Mt={position:"absolute",width:{xs:"80vw",sm:"50vw",md:"300px"},height:"min-content",top:0,left:0,right:0,bottom:0,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:2,outline:0,borderRadius:3,m:"auto"},Yt=function(e){var t=e.onClose,n=e.open,a=e.onChange;return Object(x.jsx)(P.a,{open:n,onClose:t,closeAfterTransition:!0,BackdropComponent:E.a,BackdropProps:{timeout:200},children:Object(x.jsx)(U.a,{in:n,children:Object(x.jsxs)(l.a,{sx:Mt,children:[Object(x.jsx)(I.a,{sx:Bt,onClick:t,color:"primary",children:Object(x.jsx)(V.a,{sx:{fontSize:"1.7rem"}})}),Object(x.jsx)(g.a,{variant:"h6",gutterBottom:!0,children:"Choose Icon"}),Object(x.jsx)(H.a,{}),Object(x.jsx)(l.a,{sx:{mt:1,display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:Lt.map((function(e){var n=At(e.component);return Object(x.jsx)(I.a,{onClick:function(){a(e.name),t()},children:Object(x.jsx)(n,{fontSize:"large",color:"white",sx:{}})},"icon-".concat(e.name))}))})]})})})},_t=function(e){var t=e.icon,n=e.color,a=e.onChange,c=r.a.useState(!1),o=Object(p.a)(c,2),i=o[0],s=o[1],u=function(){return s(!0)},d=t?At(Lt.find((function(e){return e.name===t})).component):null;return Object(x.jsxs)(l.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:2,mb:1},children:[Object(x.jsx)(G.a,{onClick:u,variant:"outlined",sx:{width:"70%",p:1.5,color:"white",borderColor:"gray"},children:"Choose icon..."}),Object(x.jsx)(l.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"25%"},children:t&&Object(x.jsx)(I.a,{onClick:u,children:Object(x.jsx)(d,{sx:{color:n,fontSize:"45px"}})})}),Object(x.jsx)(Yt,{onClose:function(){return s(!1)},open:i,onChange:a})]})},Pt=n(18),Et=n(15),Ut=n(12),Wt=n.n(Ut),Vt=n(30),Ht=n(112),Jt=n.n(Ht),Nt="jwt-token",Gt="jwt-refresh-token",Zt="jwt-expires",Kt="user-local-id";var Qt={setTokens:function(e){var t=e.refreshToken,n=e.expiresIn,a=void 0===n?3600:n,r=e.accessToken,c=e.userId,o=(new Date).getTime()+1e3*a;localStorage.setItem(Nt,r),localStorage.setItem(Gt,t),localStorage.setItem(Zt,o),localStorage.setItem(Kt,c)},getAccessToken:function(){return localStorage.getItem(Nt)},getExpiresToken:function(){return localStorage.getItem(Zt)},getRefreshToken:function(){return localStorage.getItem(Gt)},getUserIdToken:function(){return localStorage.getItem(Kt)},removeAuthData:function(){localStorage.removeItem(Nt),localStorage.removeItem(Gt),localStorage.removeItem(Zt),localStorage.removeItem(Kt)}},Xt=n(113),$t=Jt.a.create({baseURL:Xt.mongoEndpoint+"auth/"}),en={register:function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var n,a;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t.post("signUp",t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var n,a,r,c;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,a=t.password,e.next=3,$t.post("signInWithPassword",{email:n,password:a});case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),refresh:function(){var e=Object(Pt.a)(Wt.a.mark((function e(){var t,n;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t.post("token",{grant_type:"refresh_token",refresh_token:Qt.getRefreshToken()});case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},tn=en,nn=Jt.a.create({baseURL:Xt.mongoEndpoint});nn.interceptors.request.use(function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var n,a,r;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Qt.getExpiresToken(),!(Qt.getRefreshToken()&&n<Date.now())){e.next=7;break}return e.next=5,tn.refresh();case 5:a=e.sent,Qt.setTokens({refreshToken:a.refreshToken,accessToken:a.accessToken,expiresIn:a.expiresIn,userId:a.userId});case 7:return(r=Qt.getAccessToken())&&(t.headers=Object(zt.a)(Object(zt.a)({},t.headers),{},{Authorization:"bearer ".concat(r)})),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){console.log(e)})),nn.interceptors.response.use((function(e){return e}),(function(e){return e.response&&e.response.status>=400&&e.request.status<500||(console.log(e),u.b.error("Something went wrong")),Promise.reject(e)}));var an={get:nn.get,post:nn.post,put:nn.put,delete:nn.delete,patch:nn.patch},rn="habit/",cn={fetchAll:function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var n,a;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an.get(rn+t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var n,a;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an.post(rn,t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var n,a;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an.patch(rn+t._id,t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var n,a;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an.delete(rn+t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},on=cn,sn="day/",un={fetch:function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var n,a,r;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?{params:{date:t}}:null,e.next=3,an.get(sn,n);case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchById:function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var n,a;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an.get(sn+t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var n,a;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an.post(sn,t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var n,a;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an.patch(sn,t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var n,a;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an.delete(sn+t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},dn=un,ln={update:function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var n,a;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an.patch("habitstatus/"+t._id,t.values);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},pn=ln,bn=n(254),hn=Object(bn.a)(),jn="user/",mn={get:function(){var e=Object(Pt.a)(Wt.a.mark((function e(){var t,n;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an.get(jn+Qt.getUserIdToken());case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var n,a;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an.patch(jn+t._id,t.habits);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fn=mn,xn=Qt.getAccessToken()?{entities:null,isLoading:!0,error:null,auth:{userId:Qt.getUserIdToken()},isLoggedIn:!0,dataLoaded:!1}:{entities:null,isLoading:!1,error:null,auth:null,isLoggedIn:!1,dataLoaded:!1},On=Object(Vt.c)({name:"users",initialState:xn,reducers:{authRequested:function(e){e.error=null},authRequestSuccess:function(e,t){e.isLoggedIn=!0,e.auth=t.payload},authRequestFail:function(e,t){e.error=t.payload},userLoggedOut:function(e){e.entities=null,e.auth=null,e.isLoggedIn=!1,e.dataLoaded=!1},userRequested:function(e){e.isLoading=!0,e.error=null},userRequestSuccess:function(e,t){e.entities=t.payload,e.isLoading=!1,e.dataLoaded=!0},userRequestFailed:function(e,t){e.error=t.payload,e.isLoading=!1}}}),gn=On.reducer,vn=On.actions,yn=vn.authRequested,wn=vn.authRequestSuccess,kn=vn.authRequestFail,Cn=vn.userLoggedOut,Sn=vn.userRequested,In=vn.userRequestSuccess,qn=vn.userRequestFailed,Rn=function(e){return function(){var t=Object(Pt.a)(Wt.a.mark((function t(n){var a;return Wt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(yn()),t.prev=1,console.log(e),t.next=5,tn.register(e);case 5:a=t.sent,n(wn({userId:a.userId})),Qt.setTokens(a),n(Kn(w()().format("YYYY-MM-DD"))),hn.push("/"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n(kn(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},Fn=gn,Tn=Object(Vt.c)({name:"days",initialState:{entities:[],isLoading:!1,error:null,dataLoaded:!1},reducers:{daysRequested:function(e){e.isLoading=!0,e.error=null},daysRequestSuccess:function(e,t){var n=e.entities;n.forEach((function(e){t.payload.forEach((function(t){t.date!==e&&n.push(t)}))})),e.entities=Object(Et.a)(n),e.isLoading=!1,e.dataLoaded=!0},daysRequestFailed:function(e,t){e.error=t.payload,e.isLoading=!1},dayCheckSuccess:function(e,t){e.entities.find((function(e){return e._id===t.payload._id}))||e.entities.push(t.payload)},dayCheckFailed:function(e,t){e.error=t.payload},dayUpdateSuccess:function(e,t){var n=e.entities.findIndex((function(e){return e.date===t.payload.date}));e.entities[n].isPerfect=t.payload.isPerfect},dayUpdateFailed:function(e,t){e.error=t.payload},habitStatusUpdateSuccess:function(e,t){Object(Et.a)(e.entities).find((function(e){return e.date===t.payload.date})).habitStatuses.find((function(e){return e._id===t.payload._id})).isCompleted=t.payload.isCompleted},habitStatusUpdateFailed:function(e,t){e.error=t.payload},habitStatusAdded:function(e,t){var n=e.entities.findIndex((function(e){return e.date===t.payload.date})),a=Object(Et.a)(e.entities);a[n].habitStatuses.push(t.payload),a[n].habitStatusId.push(t.payload._id),e.entities=Object(Et.a)(a)}}}),Dn=Tn.reducer,Ln=Tn.actions,zn=Object(Vt.b)("days/dayCheckRequested"),An=Object(Vt.b)("days/dayRequested"),Bn=Object(Vt.b)("days/dayRequestedSuccess"),Mn=Object(Vt.b)("days/dayUpdateRequested"),Yn=Object(Vt.b)("days/habitStatusAddedRequested"),_n=Object(Vt.b)("days/habitStatusUpdateRequested"),Pn=(Object(Vt.b)("days/habitStatusRequested"),Ln.daysRequested),En=Ln.daysRequestSuccess,Un=Ln.daysRequestFailed,Wn=Ln.dayCheckSuccess,Vn=Ln.dayCheckFailed,Hn=Ln.dayUpdateSuccess,Jn=Ln.dayUpdateFailed,Nn=Ln.habitStatusUpdateSuccess,Gn=Ln.habitStatusUpdateFailed,Zn=Ln.habitStatusAdded,Kn=function(e){return function(){var t=Object(Pt.a)(Wt.a.mark((function t(n){var a;return Wt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(zn()),t.prev=1,t.next=4,dn.create({date:e});case 4:return a=t.sent,t.next=7,n(Wn(a));case 7:n(function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var n;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Sn()),e.prev=1,e.next=4,fn.get();case 4:n=e.sent,t(In(n)),t(ma()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t(qn(e.t0.message)),hn.push("/logout");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n(Vn(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},Qn=function(e){return function(){var t=Object(Pt.a)(Wt.a.mark((function t(n){return Wt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Mn()),t.prev=1,t.next=4,dn.update(e);case 4:n(Hn(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n(Jn(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},Xn=function(e){return function(){var t=Object(Pt.a)(Wt.a.mark((function t(n,a){var r,c,o;return Wt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a(),c=r.days.entities.find((function(t){return t.date===e})),o=c.habitStatuses.every((function(e){return!0===e.isCompleted})),(c.isPerfect||o)&&n(Qn({date:e,isPerfect:o}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},$n=function(e){return function(t){t(Yn()),t(Zn(e))}},ea=Dn,ta=Object(Vt.c)({name:"habits",initialState:{entities:[],isLoading:!1,error:null,dataLoaded:!1},reducers:{habitsRequested:function(e){e.isLoading=!0,e.error=null},habitsRequestSuccess:function(e,t){e.entities=t.payload,e.isLoading=!1,e.dataLoaded=!0},habitsRequestFailed:function(e,t){e.error=t.payload,e.isLoading=!1},habitCreationSuccess:function(e,t){var n=Object(Et.a)(e.entities);n.push(t.payload),e.entities=Object(Et.a)(n)},habitCreationFailed:function(e,t){e.error=t.payload},habitUpdateSuccess:function(e,t){var n=e.entities.findIndex((function(e){return e._id===t.payload._id})),a=Object(Et.a)(e.entities);a[n]=Object(zt.a)(Object(zt.a)({},e.entities[n]),t.payload.values),e.entities=Object(Et.a)(a)},habitUpdateFailed:function(e,t){e.error=t.payload},habitDeleteSuccess:function(e,t){var n=e.entities.filter((function(e){return e._id!==t.payload}));e.entities=Object(Et.a)(n)},habitDeleteFailed:function(e,t){e.error=t.payload}}}),na=ta.reducer,aa=ta.actions,ra=Object(Vt.b)("habits/habitCreationRequested"),ca=Object(Vt.b)("habits/habitUpdateRequested"),oa=Object(Vt.b)("habits/habitDeleteRequested"),ia=aa.habitsRequested,sa=aa.habitsRequestSuccess,ua=aa.habitsRequestFailed,da=aa.habitCreationSuccess,la=aa.habitCreationFailed,pa=aa.habitUpdateSuccess,ba=aa.habitUpdateFailed,ha=aa.habitDeleteSuccess,ja=aa.habitDeleteFailed,ma=function(){return function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var n,a;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ia()),n=Qt.getUserIdToken(),e.prev=2,e.next=5,on.fetchAll(n);case 5:a=e.sent,t(sa(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t(ua(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},fa=na,xa=function(e){var t=e.id,n=e.type,a=e.initialValues,r=e.onClose,c=Object(i.b)(),o=Object(J.a)({initialValues:a,validationSchema:Z.a({name:Z.b().required("Required"),icon:Z.b().required("Required")}),onSubmit:function(e){var a;"add"===n?c((a=e,function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var n,r,c,o;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ra()),e.prev=1,n=Object(zt.a)({userId:Qt.getUserIdToken(),isActive:!0},a),e.next=5,on.create(n);case 5:r=e.sent,c=r.habit,o=r.habitStatus,t($n(o)),t(da(c)),t(Xn(o.date)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t(la(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}())):"edit"===n&&c(function(e){return function(){var t=Object(Pt.a)(Wt.a.mark((function t(n){return Wt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ca()),t.prev=1,e.userId=Qt.getUserIdToken(),t.next=5,on.update(e);case 5:n(pa(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(ba(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}({_id:t,values:e})),r()}});return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(g.a,{variant:"h5",gutterBottom:!0,children:"add"===n?"Add habit":"Edit habit"}),Object(x.jsx)(H.a,{}),Object(x.jsxs)(l.a,{component:"form",onSubmit:o.handleSubmit,noValidate:!0,sx:{mt:1},children:[Object(x.jsxs)(l.a,{children:[Object(x.jsx)(N.a,{sx:{width:"100%"},margin:"normal",required:!0,id:"name",label:"Habit name",name:"name",onChange:o.handleChange,value:o.values.name,error:o.touched.name&&Boolean(o.errors.name),helperText:o.touched.name&&o.errors.name}),Object(x.jsxs)(Q.a,{sx:{width:"100%",mt:2,mb:1},children:[Object(x.jsx)(K.a,{id:"time",children:"Time of the day"}),Object(x.jsxs)(X.a,{labelId:"time",id:"time",name:"time",value:o.values.time,label:"Time of the day",onChange:o.handleChange,children:[Object(x.jsx)(R.a,{value:"anytime",children:"Anytime"}),Object(x.jsx)(R.a,{value:"morning",children:"Morning"}),Object(x.jsx)(R.a,{value:"afternoon",children:"Afternoon"}),Object(x.jsx)(R.a,{value:"evening",children:"Evening"})]})]})]}),Object(x.jsx)(oe,{color:o.values.color,onChange:function(e){o.setFieldValue("color",e)}}),Object(x.jsx)(_t,{icon:o.values.icon,color:o.values.color,onChange:function(e){o.setFieldValue("icon",e)}}),Object(x.jsx)(G.a,{type:"submit",variant:"contained",size:"large",sx:{mt:3,mb:1,width:"100%"},children:"add"===n?"Add new habit":"Save"})]})]})},Oa={position:"absolute",top:"0.3rem",right:"0.3rem",p:1},ga={position:"absolute",width:{xs:"300px",sm:"400px"},height:"max-content",top:0,left:0,right:0,bottom:0,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:2,outline:0,borderRadius:3,m:"auto"},va=function(e){var t=e.id,n=e.type,a=e.onClose,r=e.open,c=e.initialValues;return Object(x.jsx)(P.a,{open:r,onClose:a,closeAfterTransition:!0,BackdropComponent:E.a,BackdropProps:{timeout:200},children:Object(x.jsx)(U.a,{in:r,children:Object(x.jsxs)(l.a,{sx:ga,children:[Object(x.jsx)(I.a,{sx:Oa,onClick:a,color:"primary",children:Object(x.jsx)(V.a,{sx:{fontSize:"1.7rem"}})}),Object(x.jsx)(xa,{id:t,type:n,onClose:a,initialValues:c})]})})})},ya={position:"absolute",top:"0.3rem",right:"0.3rem",p:1},wa=function(e){var t=e.onClose,n=e.open,a=e.children,r={position:"absolute",width:e.width,height:e.height,top:0,left:0,right:0,bottom:0,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:2,outline:0,borderRadius:3,m:"auto"};return Object(x.jsx)(P.a,{open:n,onClose:t,closeAfterTransition:!0,BackdropComponent:E.a,BackdropProps:{timeout:200},children:Object(x.jsx)(U.a,{in:n,children:Object(x.jsxs)(l.a,{sx:r,children:[Object(x.jsx)(I.a,{sx:ya,onClick:t,color:"primary",children:Object(x.jsx)(V.a,{sx:{fontSize:"1.7rem"}})}),a]})})})};wa.defaultProps={width:{xs:"300px",sm:"400px"},height:"max-content"};var ka=wa,Ca=function(e){var t=e.title,n=e.onDelete;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(g.a,{variant:"h6",gutterBottom:!0,sx:{textAlign:"center",marginBottom:2},children:'Delete habit "'.concat(t,'"?')}),Object(x.jsx)(l.a,{sx:{textAlign:"center"},children:Object(x.jsx)(G.a,{size:"larger",variant:"outlined",startIcon:Object(x.jsx)(z.a,{}),color:"error",onClick:n,children:"Delete"})})," "]})},Sa={elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},Ia=function(e){var t,n,r=e.habitDate,c=e.id,o=e.title,s=e.icon,u=(e.streak,e.color),d=e.daytime,b=Object(i.b)(),h=(w()().format("YYYY-MM-DD"),w()().subtract(1,"day").format("DD/MM/YYYY"),Object(i.c)((t=c,n=r,function(e,a){return e.days.entities.find((function(e){return e.date===n})).habitStatuses.find((function(e){return e.habitId===t}))}))),j=Object(a.useState)(h.isCompleted),m=Object(p.a)(j,2),f=m[0],O=m[1],g=Object(a.useState)(null),y=Object(p.a)(g,2),C=y[0],T=y[1],L=Boolean(C),B=function(){T(null)},Y=Object(a.useState)(!1),P=Object(p.a)(Y,2),E=P[0],U=P[1],W=function(){return U((function(e){return!e}))},V=Object(a.useState)(!1),H=Object(p.a)(V,2),J=H[0],N=H[1],G=function(){return N((function(e){return!e}))},Z=Lt.find((function(e){return e.name===s})),K=At(Z.component);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(k.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,pr:1.5},children:[Object(x.jsxs)(l.a,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",p:1},children:[Object(x.jsx)(l.a,{sx:{mr:1,p:1,display:"grid",placeItems:"center"},children:Object(x.jsx)(K,{sx:{color:u,fontSize:"40px"}})}),Object(x.jsx)("div",{children:Object(x.jsx)(v,{title:o,isCompleted:f})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)(A.a,{inputProps:{"aria-label":"Checkbox demo"},icon:Object(x.jsx)(M.a,{fontSize:"large"}),checkedIcon:Object(x.jsx)(_.a,{fontSize:"large",color:"success"}),checked:f,onChange:function(){b(function(e){var t=e.date,n=e._id,a=e.values;return function(){var e=Object(Pt.a)(Wt.a.mark((function e(r){var c,o;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(_n()),e.prev=1,e.next=4,pn.update({_id:n,values:a});case 4:c=e.sent,o=c.isCompleted,r(Nn({date:t,_id:n,isCompleted:o})),r(Xn(t)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r(Gn(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()}({date:h.date,_id:h._id,values:{isCompleted:!f}})),O((function(e){return!e}))}}),Object(x.jsx)(I.a,{onClick:function(e){T(e.currentTarget)},children:Object(x.jsx)(S.a,{})})]})]}),Object(x.jsxs)(q.a,{anchorEl:C,id:"account-menu",open:L,onClose:B,onClick:B,PaperProps:Sa,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(x.jsxs)(R.a,{onClick:W,children:[Object(x.jsx)(F.a,{children:Object(x.jsx)(D.a,{fontSize:"small"})}),"Edit"]}),Object(x.jsxs)(R.a,{onClick:G,children:[Object(x.jsx)(F.a,{children:Object(x.jsx)(z.a,{fontSize:"small"})}),"Delete"]})]}),Object(x.jsx)(va,{type:"edit",open:E,onClose:W,id:c,initialValues:{name:o,color:u,time:d,icon:s}}),Object(x.jsx)(ka,{onClose:G,open:J,width:"350px",children:Object(x.jsx)(Ca,{title:o,onDelete:function(){b(function(e){return function(){var t=Object(Pt.a)(Wt.a.mark((function t(n){return Wt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(oa()),t.prev=1,t.next=4,on.delete(e);case 4:n(ha(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n(ja(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(c)),G()}})})]})},qa=n(472),Ra=function(e){var t=e.date,n=Object(i.c)((function(e){return e.habits.entities})),r=Object(i.c)((function(e){return e.habits.dataLoaded})),c=Object(a.useState)(!0),o=Object(p.a)(c,2),s=o[0],u=o[1];return Object(a.useEffect)((function(){r&&u(!1)}),[r]),Object(x.jsx)(x.Fragment,{children:s?Object(x.jsx)(l.a,{sx:{mt:"30px",textAlign:"center",width:{lg:"30%"}},children:Object(x.jsx)(qa.a,{color:"primary"})}):Object(x.jsx)(x.Fragment,{children:n&&n.length>0?Object(x.jsxs)(l.a,{sx:{width:{lg:"30%"}},children:[n.filter((function(e){return"morning"===e.time})).length>0&&Object(x.jsx)(g.a,{variant:"h6",gutterBottom:!0,children:"Morning"}),n.filter((function(e){return"morning"===e.time})).map((function(e){return Object(x.jsx)(Ia,{habitDate:t,id:e._id,title:e.name,icon:e.icon,color:e.color,isCompleted:!1,daytime:e.time},"".concat(e._id,"-").concat(e.name))})),n.filter((function(e){return"afternoon"===e.time})).length>0&&Object(x.jsx)(g.a,{variant:"h6",gutterBottom:!0,children:"Afternoon"}),n.filter((function(e){return"afternoon"===e.time})).map((function(e){return Object(x.jsx)(Ia,{habitDate:t,id:e._id,title:e.name,icon:e.icon,color:e.color,isCompleted:!1,daytime:e.time},"".concat(e._id,"-").concat(e.name))})),n.filter((function(e){return"evening"===e.time})).length>0&&Object(x.jsx)(g.a,{variant:"h6",gutterBottom:!0,children:"Evening"}),n.filter((function(e){return"evening"===e.time})).map((function(e){return Object(x.jsx)(Ia,{habitDate:t,id:e._id,title:e.name,icon:e.icon,color:e.color,isCompleted:!1,daytime:e.time},"".concat(e._id,"-").concat(e.name))})),n.filter((function(e){return"anytime"===e.time})).length>0&&Object(x.jsx)(g.a,{variant:"h6",gutterBottom:!0,children:"Anytime"}),n.filter((function(e){return"anytime"===e.time})).map((function(e){return Object(x.jsx)(Ia,{habitDate:t,id:e._id,title:e.name,icon:e.icon,color:e.color,isCompleted:!1,daytime:e.time},"".concat(e._id,"-").concat(e.name))}))]}):Object(x.jsx)(g.a,{variant:"h4",gutterBottom:!0,children:"You don't have any habits yet!"})})})},Fa=function(){var e=r.a.useState(!1),t=Object(p.a)(e,2),n=t[0],a=t[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ra,{date:w()().format("YYYY-MM-DD")}),Object(x.jsx)(O,{onOpen:function(){return a(!0)}}),Object(x.jsx)(va,{type:"add",onClose:function(){return a(!1)},open:n,initialValues:{name:"",color:"#fff",time:"anytime",icon:""}})]})},Ta=function(){var e=Object(i.b)(),t=Object(s.g)();return Object(a.useEffect)((function(){e((function(e){e(Cn()),Qt.removeAuthData(),hn.push("/")})),t.push("/")}),[]),Object(x.jsx)("h1",{children:"Loading..."})},Da=function(){return Object(x.jsx)("h2",{children:"Coming soon..."})},La=function(){return Object(x.jsx)("h2",{children:"Coming soon..."})},za=n(466),Aa=n(476),Ba=n(31),Ma=n(484),Ya=n(486),_a=n(455),Pa=n(246),Ea=n.n(Pa),Ua=n(247),Wa=n.n(Ua),Va=n(248),Ha=n.n(Va),Ja=function(e){var t=e.onHide,n=Object(s.g)().location.pathname,a=[{path:"/",exact:!0,title:"Today",icon:Object(x.jsx)(Ea.a,{})},{path:"/habits",exact:!0,title:"All habits",icon:Object(x.jsx)(Wa.a,{})},{path:"/stats",exact:!0,title:"Stats",icon:Object(x.jsx)(Ha.a,{})}];return Object(x.jsx)(l.a,{sx:{mt:2},children:Object(x.jsx)(Ma.a,{component:"nav","aria-label":"main mailbox folders",children:a.map((function(e,a){return Object(x.jsxs)(Ya.a,{component:Ba.a,exact:e.exact,to:e.path,selected:e.path===n,onClick:function(e){t()},children:[Object(x.jsx)(F.a,{children:e.icon}),Object(x.jsx)(_a.a,{primary:e.title})]},e.title+a)}))})})},Na=function(e){var t=e.onHide;e.topBarHeight;return Object(x.jsxs)("div",{children:[Object(x.jsx)(Aa.a,{children:Object(x.jsx)(g.a,{variant:"h6",noWrap:!0,component:"div",children:"Habit Tracker"})}),Object(x.jsx)(H.a,{}),Object(x.jsx)(Ja,{onHide:t})]})},Ga=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}},Za=function(){var e=Object(a.useState)(Ga()),t=Object(p.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){function e(){r(Ga())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n},Ka=function(e){var t=e.topBarHeight,n=e.drawerWidth,a=e.mobileOpen,r=e.onClose,c=Za().width;return Object(x.jsx)(l.a,{component:"nav",sx:{width:{md:n},flexShrink:{md:0}},"aria-label":"mailbox folders",children:Object(x.jsx)(za.a,{variant:c<900?"temporary":"permanent",open:!(c<900)||a,onClose:r,ModalProps:{keepMounted:!0},sx:c<900?{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:n,p:2}}:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:n,px:2}},children:Object(x.jsx)(Na,{onHide:r,topBarHeight:t})})})},Qa=n(477),Xa=n(250),$a=n.n(Xa),er=n(467),tr=n(249),nr=n.n(tr),ar=function(){var e=Object(i.c)((function(e){return e.users.entities})),t=r.a.useState(null),n=Object(p.a)(t,2),a=n[0],c=n[1],o=Boolean(a),s=function(){c(null)};return Object(x.jsxs)(l.a,{children:[Object(x.jsx)(I.a,{onClick:function(e){c(e.currentTarget)},size:"small",sx:{p:0},"aria-controls":o?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":o?"true":void 0,children:Object(x.jsx)(er.a,{sx:{bgcolor:"primary.main",cursor:"pointer"},children:null===e||void 0===e?void 0:e.name[0]})}),Object(x.jsxs)(q.a,{anchorEl:a,id:"account-menu",open:o,onClose:s,onClick:s,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(x.jsxs)(R.a,{component:Ba.a,to:"/profile",children:[Object(x.jsx)(er.a,{})," Profile"]}),Object(x.jsx)(H.a,{}),Object(x.jsxs)(R.a,{component:Ba.a,to:"/logout",children:[Object(x.jsx)(F.a,{children:Object(x.jsx)(nr.a,{fontSize:"small"})}),"Logout"]})]})]})},rr=function(e){var t=e.height,n=e.drawerWidth,a=e.onOpen,r=Object(s.g)().location.pathname,c=(Object(s.h)().id,"");switch(r){case"/":c="Habits";break;case"/stats":c="Stats";break;case"/profile":c="Profile"}return Object(x.jsx)(Qa.a,{position:"fixed",sx:{height:t,width:{md:"calc(100% - ".concat(n,"px)")},ml:{md:"".concat(n,"px")}},children:Object(x.jsxs)(Aa.a,{sx:{display:"flex",justifyContent:"space-between",height:t,p:2},children:[Object(x.jsxs)(l.a,{sx:{display:"flex"},children:[Object(x.jsx)(I.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:a,sx:{mr:2,display:{md:"none"}},children:Object(x.jsx)($a.a,{})}),Object(x.jsx)(g.a,{variant:"h6",noWrap:!0,component:"div",sx:{display:"flex",alignItems:"center"},children:c})]}),Object(x.jsx)(ar,{})]})})},cr=function(e){var t=e.date,n=e.id,a=e.isPerfect,r=w()(t).date(),c="text",o=!0;return n&&(c=a?"contained":"outlined",o=!1),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(G.a,{component:Ba.a,to:"/stats/".concat(n),sx:{borderRadius:"9999px",minWidth:"40px",width:"40px",height:"40px",display:"inline-flex",justifyContent:"center",alignItems:"center",m:{xs:"2px",sm:"8px"},color:"#fff",fontSize:"1.2rem"},variant:c,disabled:o,size:"medium",children:r})})},or=["January","February","March","April","May","June","July","August","September","October","November","December"],ir=function(e){var t=e.date,n=Object(i.b)(),r=Object(i.c)((function(e){return e.days.entities})),c=w()(t).month(),o=or[c],s=t.substring(0,7),u=r.filter((function(e){return e.date.includes(s)})),d=Object(a.useState)(!0),b=Object(p.a)(d,2),h=b[0],j=b[1],m=Object(i.c)((function(e){return e.days.dataLoaded}));Object(a.useEffect)((function(){var e;u.length<2&&n((e=t,function(){var t=Object(Pt.a)(Wt.a.mark((function t(n){var a;return Wt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Pn()),t.prev=1,t.next=4,dn.fetch(e);case 4:a=t.sent,n(En(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(Un(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[]),Object(a.useEffect)((function(){m&&j(!1)}),[m]);for(var f=w()(t).daysInMonth(),O=[],v=function(e){var t="".concat(s,"-").concat(e<10?"0".concat(e):e),n=r.findIndex((function(e){return e.date===t})),a=!1,c=null;-1!==n&&(a=r[n].isPerfect,c=r[n]._id),O.push({id:c,date:t,isPerfect:a})},y=1;y<=f;y++)v(y);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(g.a,{variant:"h4",children:o}),Object(x.jsx)(l.a,{sx:{width:{xs:"320px",sm:"400px"}},children:h?Object(x.jsx)(qa.a,{color:"primary",sx:{display:"block",margin:"auto auto"}}):Object(x.jsx)(x.Fragment,{children:O.map((function(e){return Object(x.jsx)(cr,Object(zt.a)({},e),e.date)}))})})]})};ir.defaultProps={date:w()().format("YYYY-MM-DD")};var sr=ir,ur=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Calendar"}),Object(x.jsx)(sr,{})]})},dr=function(e){var t=e.id,n=Object(i.c)(function(e){return function(t){return t.days.entities.find((function(t){return t._id===e}))}}(t)),r=Object(i.b)();Object(a.useEffect)((function(){var e;r((e=t,function(){var t=Object(Pt.a)(Wt.a.mark((function t(n){var a;return Wt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(An),t.prev=1,t.next=4,dn.fetchById(e);case 4:a=t.sent,n(Bn(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(Un(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[]);var c=w()(n.date).date(),o=w()(n.date).year(),s=or[w()(n.date).month()],u="".concat(c," ").concat(s," ").concat(o);return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(g.a,{variant:"h4",children:u})})},lr=function(){var e=Object(s.h)().id;return e?Object(x.jsx)(dr,{id:e}):Object(x.jsx)(ur,{})},pr=function(){var e=r.a.useState(!1),t=Object(p.a)(e,2),n=t[0],a=t[1],c="4rem",o=function(){a(!n)};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(rr,{height:c,drawerWidth:280,onOpen:o}),Object(x.jsx)(Ka,{drawerWidth:280,topBarHeight:c,mobileOpen:n,onClose:o}),Object(x.jsx)(l.a,{sx:{flexGrow:1,p:2,width:{md:"calc(100% - ".concat(280,"px)")},mt:c},children:Object(x.jsxs)(s.d,{children:[Object(x.jsx)(s.b,{path:"/logout",component:Ta}),Object(x.jsx)(s.b,{path:"/profile",component:La}),Object(x.jsx)(s.b,{path:"/habits/:habitID?/:edit?",component:Da}),Object(x.jsx)(s.b,{path:"/stats/:id?",component:lr}),Object(x.jsx)(s.b,{path:"/",component:Fa})]})})]})},br=n(464),hr=n(117),jr=n.n(hr);function mr(){var e=Object(i.b)(),t=Object(J.a)({initialValues:{name:"",email:"",password:""},validationSchema:Z.a({name:Z.b().required("Required"),email:Z.b().email("Invalid email address").required("Required"),password:Z.b().required("Required").matches(/(?=.*[A-Z])/,"Must contain at least one capital letter").matches(/(?=.*[0-9])/,"Must contain at least one digit").matches(/(?=.{8,})/,"Must be at least 8 symbols long")}),onSubmit:function(){var t=Object(Pt.a)(Wt.a.mark((function t(n){return Wt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(Rn(n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(l.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(x.jsx)(er.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(x.jsx)(jr.a,{})}),Object(x.jsx)(g.a,{component:"h1",variant:"h5",children:"Register"}),Object(x.jsxs)(l.a,{component:"form",noValidate:!0,onSubmit:t.handleSubmit,sx:{mt:3},children:[Object(x.jsxs)(br.a,{container:!0,spacing:2,children:[Object(x.jsx)(br.a,{item:!0,xs:12,children:Object(x.jsx)(N.a,{autoComplete:"given-name",name:"name",required:!0,fullWidth:!0,id:"name",label:"Your name",autoFocus:!0,onChange:t.handleChange,value:t.values.name,error:t.touched.name&&Boolean(t.errors.name),helperText:t.touched.name&&t.errors.name})}),Object(x.jsx)(br.a,{item:!0,xs:12,children:Object(x.jsx)(N.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:t.handleChange,value:t.values.email,error:t.touched.email&&Boolean(t.errors.email),helperText:t.touched.email&&t.errors.email})}),Object(x.jsx)(br.a,{item:!0,xs:12,children:Object(x.jsx)(N.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",onChange:t.handleChange,value:t.values.password,error:t.touched.password&&Boolean(t.errors.password),helperText:t.touched.password&&t.errors.password})})]}),Object(x.jsx)(G.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Register"})]})]})})}function fr(){var e=Object(i.b)(),t=Object(s.g)(),n=(t.location.state&&t.location.state.from.pathname,Object(J.a)({initialValues:{email:"",password:""},validationSchema:Z.a({email:Z.b().email("Invalid email address").required("Required"),password:Z.b().required("Required")}),onSubmit:function(t){var n;e((n=t,function(){var e=Object(Pt.a)(Wt.a.mark((function e(t){var a;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(yn()),e.prev=1,e.next=4,tn.login(n);case 4:a=e.sent,t(wn({userId:a.localId})),Qt.setTokens(a),t(Kn(w()().format("YYYY-MM-DD"))),hn.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(kn(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()))}}));return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(l.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(x.jsx)(er.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(x.jsx)(jr.a,{})}),Object(x.jsx)(g.a,{component:"h1",variant:"h5",children:"Log in"}),Object(x.jsxs)(l.a,{component:"form",onSubmit:n.handleSubmit,noValidate:!0,sx:{mt:1},children:[Object(x.jsx)(N.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:n.handleChange,value:n.values.email,error:n.touched.email&&Boolean(n.errors.email),helperText:n.touched.email&&n.errors.email}),Object(x.jsx)(N.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:n.handleChange,value:n.values.password,error:n.touched.password&&Boolean(n.errors.password),helperText:n.touched.password&&n.errors.password}),Object(x.jsx)(G.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"})]})]})})}var xr=n(473),Or=n(474);function gr(e){return Object(x.jsxs)(g.a,Object(zt.a)(Object(zt.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(x.jsx)(xr.a,{color:"inherit",href:"#",children:"Dan Tkachuk"})," ",(new Date).getFullYear(),"."]}))}var vr=function(){var e=Object(s.h)().type,t=Object(a.useState)("register"===e?e:"login"),n=Object(p.a)(t,2),r=n[0],c=n[1],o=function(){c((function(e){return"register"===e?"login":"register"}))};return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(Or.a,{maxWidth:"sm",fixed:!0,children:["register"===r?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(mr,{}),Object(x.jsx)(br.a,{container:!0,justifyContent:"flex-end",children:Object(x.jsx)(br.a,{item:!0,children:Object(x.jsx)(xr.a,{onClick:o,sx:{cursor:"pointer"},children:"Already have an account? Log in"})})})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(fr,{}),Object(x.jsxs)(br.a,{container:!0,children:[Object(x.jsx)(br.a,{item:!0,xs:!0,children:Object(x.jsx)(xr.a,{href:"#",children:"Forgot password?"})}),Object(x.jsx)(br.a,{item:!0,children:Object(x.jsx)(xr.a,{onClick:o,sx:{cursor:"pointer"},children:"Don't have an account? Register"})})]})]}),Object(x.jsx)(gr,{sx:{mt:8,mb:4}})]})})},yr=n(252),wr=n(469),kr=n(456),Cr=n(193),Sr=n(73),Ir=r.a.createContext({toggleColorMode:function(){}});function qr(e){var t=e.children,n=Object(a.useState)("dark"),c=Object(p.a)(n,2),o=c[0],i=c[1],s=r.a.useMemo((function(){return Object(yr.a)({overrides:{MuiOutlinedInput:{input:{"&:-webkit-autofill":{"-webkit-box-shadow":"0 0 0 100px #000 inset","-webkit-text-fill-color":"#fff"}}}},palette:Object(zt.a)({mode:o},"light"===o?{primary:kr.a,text:{primary:Cr.a[900],secondary:Cr.a[800]}}:{primary:Sr.a,background:{default:"#17121b",paper:"#1c1b25"},text:{primary:"#fff",secondary:Cr.a[500]}})})}),[o]);return Object(x.jsx)(Ir.Provider,{value:{toggleColorMode:function(){i((function(e){return"light"===e?"dark":"light"}))}},children:Object(x.jsx)(wr.a,{theme:s,children:t})})}var Rr=n(251),Fr=["component","children"],Tr=function(e){e.component;var t=e.children,n=Object(Rr.a)(e,Fr),a=Object(i.c)((function(e){return e.users.isLoggedIn}));return Object(x.jsx)(s.b,Object(zt.a)(Object(zt.a)({},n),{},{render:function(){return a?t:Object(x.jsx)(s.a,{to:"/login"})}}))},Dr=function(e){var t=e.children,n=Object(s.g)(),r=Object(i.c)((function(e){return e.users.isLoggedIn})),c=Object(i.c)((function(e){return e.users.error})),o=Object(i.b)();Object(a.useEffect)((function(){c&&n.push("/logout"),r&&!c&&o(Kn(w()().format("YYYY-MM-DD")))}),[]);var u=Object(i.c)((function(e){return e.users.dataLoaded})),d=Object(i.c)((function(e){return e.habits.dataLoaded}));return r?d||u?t:Object(x.jsx)(l.a,{sx:{margin:"40vh auto"},children:Object(x.jsx)(qa.a,{color:"primary"})}):t};var Lr=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(qr,{children:[Object(x.jsx)(d.a,{enableColorScheme:!0}),Object(x.jsx)(l.a,{sx:{display:"flex"},children:Object(x.jsx)(Dr,{children:Object(x.jsxs)(s.d,{children:[Object(x.jsx)(s.b,{path:"/login",children:Object(x.jsx)(vr,{})}),Object(x.jsx)(Tr,{path:"/",children:Object(x.jsx)(pr,{})})]})})})]}),Object(x.jsx)(u.a,{})]})},zr=n(53),Ar=Object(zr.b)({users:Fn,habits:fa,days:ea});var Br=Object(Vt.a)({reducer:Ar});o.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(i.a,{store:Br,children:Object(x.jsx)(s.c,{history:hn,children:Object(x.jsx)(Lr,{})})})}),document.getElementById("root"))}},[[406,1,2]]]);
//# sourceMappingURL=main.b0f8b0cf.chunk.js.map